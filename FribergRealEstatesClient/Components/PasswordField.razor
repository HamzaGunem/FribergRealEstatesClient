@using MudBlazor
@* Auth: Viktor *@

<MudTextField Value="@Value"
              ValueChanged="@ValueChanged"
              InputType="@PasswordInput"
              Label="Password"
              Required="true"
              Adornment="Adornment.End"
              AdornmentIcon="@PasswordInputIcon"
              OnAdornmentClick="TogglePasswordVisibility"
              AdornmentAriaLabel="Show Password" />

@code {
    [Parameter]
    public string Value { get; set; } = string.Empty;
    
    [Parameter]
    public EventCallback<string> ValueChanged { get; set; }
    private bool isPasswordVisible = false;
    private InputType PasswordInput = InputType.Password;
    private string PasswordInputIcon = Icons.Material.Filled.VisibilityOff;

    private void TogglePasswordVisibility()
    {
        isPasswordVisible = !isPasswordVisible;

        if (isPasswordVisible)
        {
            PasswordInput = InputType.Text;
            PasswordInputIcon = Icons.Material.Filled.Visibility;
        }
        else
        {
            PasswordInput = InputType.Password;
            PasswordInputIcon = Icons.Material.Filled.VisibilityOff;
        }
    }
}